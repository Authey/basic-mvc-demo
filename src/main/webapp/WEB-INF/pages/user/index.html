<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User</title>
</head>
<body>
    <div>User Index</div>
    <button onclick="query()">Load User</button>
    <button onclick="add()">Add User</button>
    <button onclick="remove()">Remove User</button>
    <button onclick="toHome()">Jump to Home</button>
    <div id="user-info"></div>
</body>
</html>

<#include "*/resources.html" />

<script type="text/javascript">
    function query() {
        $.ajax({
            type: "POST",
            url: "${root!}/user/query",
            async: false,
            data: {},
            dataType: "text",
            success: function(info) {
                $("#user-info").html(info)
            }
        })
    }

    function add() {
        let xhr = new XMLHttpRequest()
        xhr.open('POST', '${root!}/user/add', false)
        xhr.send()
        window.alert(xhr.responseText)
    }

    function remove() {
        let xhr = new XMLHttpRequest()
        xhr.open('POST', '${root!}/user/remove', false)
        xhr.send()
        window.alert(xhr.responseText)
    }

    function toHome() {
        window.location.href = "${root!}/home"
    }
</script>